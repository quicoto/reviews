{"version":3,"file":"component---src-pages-index-tsx-14ab4ebf06244c3d1d44.js","mappings":"wMAsEA,EAnEkB,kBAChB,gBAAC,EAAAA,YAAD,CACEC,MAAK,aAuCLC,OAAQ,SAAAC,GACN,IAAIC,EAASC,KAAKC,MAAMD,KAAKE,UAAUJ,EAAKC,OAAQ,KAAM,IAAII,MAC1DC,EAASJ,KAAKC,MAAMD,KAAKE,UAAUJ,EAAKM,OAAQ,KAAM,IAAIC,MAC1DC,EAAgB,EAEpBF,EAAOG,SAAQ,SAAAC,GACb,IAAMC,EAAQD,EAAKE,MAAMC,MAAK,SAAAC,GAAC,OAA2B,OAAvBA,EAAEC,YAAYC,IAAlB,IAE3BL,IACFH,GAAiBG,EAAMI,YAAYC,KAAON,EAAKO,WAElD,IAED,IAAMC,EAAQC,KAAKC,MAAuB,IAAhBnB,EAAOoB,OAAgB,GAAKb,EAAgB,IAEtE,OACE,uBAAKc,UAAU,uCACb,qBAAGC,OAAkB,IAAVL,IACR,IAAIM,KAAKC,cAAeC,OAAOR,GADlC,UAKL,GA/Da,ECsBlB,EAtBoB,kBAClB,gBAAC,EAAArB,YAAD,CACEC,MAAK,aAWLC,OAAQ,SAAAC,GACN,IAAIK,EAAQH,KAAKC,MAAMD,KAAKE,UAAUJ,EAAM,KAAM,IAAI2B,kBACnDtB,MAEH,OAAO,uBAAKiB,UAAU,kBAAkBjB,EAAMgB,OAC/C,GAlBe,EC0BpB,EA1BsB,kBACpB,gBAAC,EAAAxB,YAAD,CACEC,MAAK,YAWLC,OAAQ,SAAAC,GACN,IAAIK,EAAQH,KAAKC,MAAMD,KAAKE,UAAUJ,EAAM,KAAM,IAAI2B,kBACnDtB,MAEH,OACE,uBAAKiB,UAAU,mBACZ,IAAIE,KAAKC,cAAeC,OAAOrB,EAAMgB,QAG3C,GAtBiB,E,oBCEtB,SAASO,EAASC,GAChB,IAAMC,EAAOD,EAAMnB,KAEnB,OACE,0BACE,sBACEqB,MAAO,CACLC,aAAc,OACdC,UAAW,MAGb,gBAAC,EAAAC,KAAD,CACEC,MAAK,oBAAsBL,EAC3BC,MAAO,CACLK,UAAU,OACVJ,aAAc,OACdK,YAAa,QAEfC,GAAE,cAAeC,EAAAA,EAAAA,GAAQT,IAEzB,8BAASA,GAAe,IACxB,wBAAMR,UAAU,WAAUkB,EAAAA,EAAAA,IAAMX,EAAMY,YAK/C,CAED,SAASC,EAAUb,GACjB,IAAMc,EAASd,EAAMc,OACjBC,EAAW,GAiCf,OA/BAD,EAAOlC,SAAQ,SAAAF,GACb,IAAMK,EAAQL,EAAMK,MAChBF,EAAO,CACToB,KAAMlB,EAAM,GAAGG,YAAYe,KAC3Bb,WAAYV,EAAMU,YAEhB4B,EAAQ,EAEZjC,EAAMH,SAAQ,SAAAqC,GACZD,GAASC,EAAK/B,YAAYgC,MAC3B,IAEDrC,EAAK+B,SAAUO,EAAAA,EAAAA,IAAUC,YAAYJ,EAAQjC,EAAMS,QAAQ6B,QAAQ,KACnEN,EAASO,KAAKzC,EACf,KAGDkC,EAAWA,EAASQ,QAAO,SAAA1C,GAAI,OAAIA,EAAKO,WAAa,CAAtB,KAGtBoC,MAAK,SAAUC,EAAGC,GACzB,IAAIC,EAAID,EAAEd,QAAUa,EAAEb,QACtB,OAAU,IAANe,EACKA,EAGFD,EAAEtC,WAAaqC,EAAErC,UACzB,IAED2B,EAAWA,EAASa,MAAM,EAAG,IAG3B,sBAAInC,UAAU,iBACXsB,EAASc,KAAI,SAAChD,EAAMiD,GAAP,OACZ,gBAAC/B,EAAD,CACEgC,IAAKD,EAAME,WACXnD,KAAMA,EAAKoB,KACXW,QAAS/B,EAAK+B,SAJJ,IASnB,CAED,IA8BA,EA9BiB,kBACf,gBAAC,EAAA5C,YAAD,CACEC,MAAK,aAeLC,OAAQ,SAAAC,GACN,IAAI2C,EAASzC,KAAKC,MAAMD,KAAKE,UAAUJ,EAAM,KAAM,IAAI2B,kBACpDpB,MAEH,OACE,uBAAKe,UAAU,YACb,gBAACoB,EAAD,CAAWC,OAAQA,IAGxB,GA1BY,ECtCjB,EAvCqB,SAAAd,GAAK,OACxB,gBAAC,EAAAhC,YAAD,CACEC,MAAK,aAwBLC,OAAQ,SAAAC,GACN,IAAIK,EAAQH,KAAKC,MAAMD,KAAKE,UAAUJ,EAAM,KAAM,IAAI2B,kBACnDtB,MAEH,OACE,uBAAKiB,UAAU,eACb,gBAAC,KAAD,CAAMjB,MAAOA,EAAOyD,OAAO,IAGhC,GAnCqB,ECuC1B,EAvCqB,SAAAjC,GAAK,OACxB,gBAAC,EAAAhC,YAAD,CACEC,MAAK,aAwBLC,OAAQ,SAAAC,GACN,IAAIK,EAAQH,KAAKC,MAAMD,KAAKE,UAAUJ,EAAM,KAAM,IAAI2B,kBACnDtB,MAEH,OACE,uBAAKiB,UAAU,eACb,gBAAC,KAAD,CAAMjB,MAAOA,EAAOyD,OAAO,IAGhC,GAnCqB,EC0B1B,EA3BsB,kBACpB,gBAAC,EAAAjE,YAAD,CACEC,MAAK,YAgBLC,OAAQ,SAAAC,GACN,IAAI2C,EAASzC,KAAKC,MAAMD,KAAKE,UAAUJ,EAAM,KAAM,IAAI2B,kBACpDpB,MAEH,OAAO,uBAAKe,UAAU,kBAAkBqB,EAAOtB,OAChD,GAvBiB,E,8BC4EtB,EAvDkB,SAAC,GAAyC,IAAvCrB,EAAsC,EAAtCA,KAAM+D,EAAgC,EAAhCA,SACnBC,EAAYhE,EAAKiE,KAAKC,aAAa/B,MAEzC,OACE,gBAAC,IAAD,CAAQ4B,SAAUA,EAAU5B,MAAO6B,GACjC,gBAAC,IAAD,CAAK7B,MAAM,OAAOgC,YAAY,wBAC9B,gBAAC,IAAD,MAEA,uBAAK7C,UAAU,WACb,uBAAKA,UAAU,kBACb,0CACA,gBAAC,EAAD,OAEF,uBAAKA,UAAU,kBACb,4CACA,gBAAC,EAAD,OAEF,uBAAKA,UAAU,kBACb,0CACA,gBAAC,EAAD,OAEF,uBAAKA,UAAU,kBACb,wCACA,gBAAC,EAAD,QAIJ,2BAEA,sBAAIS,MAAO,CAAEE,UAAW,MAAxB,0BACA,gBAAC,EAAD,MACA,yBACE,gBAAC,EAAAC,KAAD,CAAMH,MAAO,CAAEK,UAAU,QAAWE,GAAG,YAAvC,0BAKF,2BAEA,sBAAIP,MAAO,CAAEE,UAAW,MAAxB,wBACA,gBAAC,EAAD,MACA,yBACE,gBAAC,EAAAC,KAAD,CAAMH,MAAO,CAAEK,UAAU,QAAWE,GAAG,UAAvC,wBAKF,2BAEA,sBAAIP,MAAO,CAAEE,UAAW,MAAxB,gBACA,gBAAC,EAAD,MAGL,C","sources":["webpack://ricard-torres-reviews/./src/components/totalTime.js","webpack://ricard-torres-reviews/./src/components/totalMovies.js","webpack://ricard-torres-reviews/./src/components/totalEpisodes.js","webpack://ricard-torres-reviews/./src/components/topShows.js","webpack://ricard-torres-reviews/./src/components/latestMovies.js","webpack://ricard-torres-reviews/./src/components/latestTVShows.js","webpack://ricard-torres-reviews/./src/components/numberOfShows.js","webpack://ricard-torres-reviews/./src/pages/index.tsx"],"sourcesContent":["import React from \"react\"\nimport { StaticQuery, graphql } from \"gatsby\"\n\nconst TotalTime = () => (\n  <StaticQuery\n    query={graphql`\n      {\n        movies: allMarkdownRemark(\n          filter: { frontmatter: { type: { eq: \"movie\" } } }\n        ) {\n          edges {\n            node {\n              id\n            }\n          }\n        }\n        series: allMarkdownRemark(\n          sort: {\n            order: [ASC, ASC]\n            fields: [frontmatter___season, frontmatter___episode]\n          }\n          filter: { frontmatter: { type: { eq: \"series\" } } }\n        ) {\n          group(field: frontmatter___name) {\n            nodes {\n              fields {\n                slug\n              }\n              frontmatter {\n                date(formatString: \"MMMM DD, YYYY\")\n                time\n                title\n                name\n                rating\n                season\n                episode\n              }\n              id\n            }\n            totalCount\n          }\n        }\n      }\n    `}\n    render={data => {\n      let movies = JSON.parse(JSON.stringify(data.movies, null, 4)).edges\n      let series = JSON.parse(JSON.stringify(data.series, null, 4)).group\n      let seriesMinutes = 0\n\n      series.forEach(show => {\n        const found = show.nodes.find(i => i.frontmatter.time !== null)\n\n        if (found) {\n          seriesMinutes += found.frontmatter.time * show.totalCount\n        }\n      })\n\n      const hours = Math.round((movies.length * 120) / 60 + seriesMinutes / 60)\n\n      return (\n        <div className=\"widgets-number widgets-number--time\">\n          <p hidden={hours === 0}>\n            {new Intl.NumberFormat().format(hours)} hours\n          </p>\n        </div>\n      )\n    }}\n  ></StaticQuery>\n)\n\nexport default TotalTime\n","import React from \"react\"\nimport { StaticQuery, graphql } from \"gatsby\"\n\nconst TotalMovies = () => (\n  <StaticQuery\n    query={graphql`\n      {\n        allMarkdownRemark(filter: { frontmatter: { type: { eq: \"movie\" } } }) {\n          edges {\n            node {\n              id\n            }\n          }\n        }\n      }\n    `}\n    render={data => {\n      let edges = JSON.parse(JSON.stringify(data, null, 4)).allMarkdownRemark\n        .edges\n\n      return <div className=\"widgets-number\">{edges.length}</div>\n    }}\n  ></StaticQuery>\n)\n\nexport default TotalMovies\n","import React from \"react\"\nimport { StaticQuery, graphql } from \"gatsby\"\n\nconst TotalEpisodes = () => (\n  <StaticQuery\n    query={graphql`\n      {\n        allMarkdownRemark(filter: { frontmatter: { type: { eq: \"series\" } } }) {\n          edges {\n            node {\n              id\n            }\n          }\n        }\n      }\n    `}\n    render={data => {\n      let edges = JSON.parse(JSON.stringify(data, null, 4)).allMarkdownRemark\n        .edges\n\n      return (\n        <div className=\"widgets-number\">\n          {new Intl.NumberFormat().format(edges.length)}\n        </div>\n      )\n    }}\n  ></StaticQuery>\n)\n\nexport default TotalEpisodes\n","import React from \"react\"\nimport { StaticQuery, graphql, Link } from \"gatsby\"\nimport { stars, roundHalf } from \"../utils/shared\"\nimport slugify from \"@sindresorhus/slugify\"\n\nfunction ShowItem(props) {\n  const name = props.show\n\n  return (\n    <li>\n      <h3\n        style={{\n          marginBottom: \"2rem\",\n          marginTop: \"0\",\n        }}\n      >\n        <Link\n          title={`All reviews for: ${name}`}\n          style={{\n            boxShadow: `none`,\n            marginBottom: \"10px\",\n            marginRight: \"15px\",\n          }}\n          to={`/tv-shows#${slugify(name)}`}\n        >\n          <strong>{name}</strong>{\" \"}\n          <span className=\"rating\">{stars(props.average)}</span>\n        </Link>\n      </h3>\n    </li>\n  )\n}\n\nfunction ShowsList(props) {\n  const groups = props.groups\n  let topShows = []\n\n  groups.forEach(group => {\n    const nodes = group.nodes\n    let show = {\n      name: nodes[0].frontmatter.name,\n      totalCount: group.totalCount,\n    }\n    let total = 0\n\n    nodes.forEach(node => {\n      total += node.frontmatter.rating\n    })\n\n    show.average = roundHalf(parseFloat((total / nodes.length).toFixed(2)))\n    topShows.push(show)\n  })\n\n  // Discard shows with less than 6 reviews\n  topShows = topShows.filter(show => show.totalCount > 6)\n\n  // Order DESC (best average first and then if tie, by total count)\n  topShows.sort(function (a, b) {\n    let n = b.average - a.average\n    if (n !== 0) {\n      return n\n    }\n\n    return b.totalCount - a.totalCount\n  })\n\n  topShows = topShows.slice(0, 10)\n\n  return (\n    <ul className=\"list-no-style\">\n      {topShows.map((show, index) => (\n        <ShowItem\n          key={index.toString()}\n          show={show.name}\n          average={show.average}\n        />\n      ))}\n    </ul>\n  )\n}\n\nconst TopShows = () => (\n  <StaticQuery\n    query={graphql`\n      {\n        allMarkdownRemark(filter: { frontmatter: { type: { eq: \"series\" } } }) {\n          group(field: frontmatter___name) {\n            nodes {\n              frontmatter {\n                rating\n                name\n              }\n            }\n            totalCount\n          }\n        }\n      }\n    `}\n    render={data => {\n      let groups = JSON.parse(JSON.stringify(data, null, 4)).allMarkdownRemark\n        .group\n\n      return (\n        <div className=\"topShows\">\n          <ShowsList groups={groups} />\n        </div>\n      )\n    }}\n  ></StaticQuery>\n)\n\nexport default TopShows\n","import React from \"react\"\nimport { StaticQuery, graphql } from \"gatsby\"\nimport { List } from \"../utils/shared\"\n\nconst LatestMovies = props => (\n  <StaticQuery\n    query={graphql`\n      {\n        allMarkdownRemark(\n          sort: { fields: [frontmatter___date], order: DESC }\n          limit: 6\n          filter: { frontmatter: { type: { eq: \"movie\" } } }\n        ) {\n          edges {\n            node {\n              fields {\n                slug\n              }\n              frontmatter {\n                name\n                date(formatString: \"MMMM DD, YYYY\")\n                title\n                rating\n              }\n              id\n            }\n          }\n        }\n      }\n    `}\n    render={data => {\n      let edges = JSON.parse(JSON.stringify(data, null, 4)).allMarkdownRemark\n        .edges\n\n      return (\n        <div className=\"latestItems\">\n          <List edges={edges} cover={true} />\n        </div>\n      )\n    }}\n  ></StaticQuery>\n)\n\nexport default LatestMovies\n","import React from \"react\"\nimport { StaticQuery, graphql } from \"gatsby\"\nimport { List } from \"../utils/shared\"\n\nconst LatestMovies = props => (\n  <StaticQuery\n    query={graphql`\n      {\n        allMarkdownRemark(\n          sort: { fields: [frontmatter___date], order: DESC }\n          limit: 6\n          filter: { frontmatter: { type: { eq: \"series\" } } }\n        ) {\n          edges {\n            node {\n              fields {\n                slug\n              }\n              frontmatter {\n                name\n                date(formatString: \"MMMM DD, YYYY\")\n                title\n                rating\n              }\n              id\n            }\n          }\n        }\n      }\n    `}\n    render={data => {\n      let edges = JSON.parse(JSON.stringify(data, null, 4)).allMarkdownRemark\n        .edges\n\n      return (\n        <div className=\"latestItems\">\n          <List edges={edges} cover={true} />\n        </div>\n      )\n    }}\n  ></StaticQuery>\n)\n\nexport default LatestMovies\n","import React from \"react\"\nimport { StaticQuery, graphql } from \"gatsby\"\n\nconst NumberOfShows = () => (\n  <StaticQuery\n    query={graphql`\n      {\n        allMarkdownRemark(filter: { frontmatter: { type: { eq: \"series\" } } }) {\n          group(field: frontmatter___name) {\n            edges {\n              node {\n                id\n                frontmatter {\n                  name\n                }\n              }\n            }\n          }\n        }\n      }\n    `}\n    render={data => {\n      let groups = JSON.parse(JSON.stringify(data, null, 4)).allMarkdownRemark\n        .group\n\n      return <div className=\"widgets-number\">{groups.length}</div>\n    }}\n  ></StaticQuery>\n)\n\nexport default NumberOfShows\n","// Gatsby supports TypeScript natively!\nimport React from \"react\"\nimport { PageProps, Link, graphql } from \"gatsby\"\n\nimport TotalTime from \"../components/totalTime\"\nimport TotalMovies from \"../components/totalMovies\"\nimport TotalEpisodes from \"../components/totalEpisodes\"\nimport TopShows from \"../components/topShows\"\nimport LatestMovies from \"../components/latestMovies\"\nimport LatestTVShows from \"../components/latestTVShows\"\nimport NumberOfShows from \"../components/numberOfShows\"\nimport Bio from \"../components/bio\"\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport { rhythm } from \"../utils/typography\"\n\ntype Data = {\n  site: {\n    siteMetadata: {\n      title: string\n    }\n  }\n}\n\nconst BlogIndex = ({ data, location }: PageProps<Data>) => {\n  const siteTitle = data.site.siteMetadata.title\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <SEO title=\"Home\" description=\"My TV Shows reviews\" />\n      <Bio />\n\n      <div className=\"widgets\">\n        <div className=\"widgets-column\">\n          <h2>Unique shows</h2>\n          <NumberOfShows />\n        </div>\n        <div className=\"widgets-column\">\n          <h2>Total episodes</h2>\n          <TotalEpisodes />\n        </div>\n        <div className=\"widgets-column\">\n          <h2>Total movies</h2>\n          <TotalMovies />\n        </div>\n        <div className=\"widgets-column\">\n          <h2>Time spent</h2>\n          <TotalTime />\n        </div>\n      </div>\n\n      <hr/>\n\n      <h2 style={{ marginTop: '0' }}>Latest TV Show reviews</h2>\n      <LatestTVShows />\n      <p>\n        <Link style={{ boxShadow: `none` }} to=\"tv-shows\">\n          All TV Show Reviews &#10230;\n        </Link>\n      </p>\n\n      <hr/>\n\n      <h2 style={{ marginTop: '0' }}>Latest Movie reviews</h2>\n      <LatestMovies />\n      <p>\n        <Link style={{ boxShadow: `none` }} to=\"movies\">\n          All Movie Reviews &#10230;\n        </Link>\n      </p>\n\n      <hr/>\n\n      <h2 style={{ marginTop: '0' }}>Top 10 shows</h2>\n      <TopShows />\n    </Layout>\n  )\n}\n\nexport default BlogIndex\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n`\n"],"names":["StaticQuery","query","render","data","movies","JSON","parse","stringify","edges","series","group","seriesMinutes","forEach","show","found","nodes","find","i","frontmatter","time","totalCount","hours","Math","round","length","className","hidden","Intl","NumberFormat","format","allMarkdownRemark","ShowItem","props","name","style","marginBottom","marginTop","Link","title","boxShadow","marginRight","to","slugify","stars","average","ShowsList","groups","topShows","total","node","rating","roundHalf","parseFloat","toFixed","push","filter","sort","a","b","n","slice","map","index","key","toString","cover","location","siteTitle","site","siteMetadata","description"],"sourceRoot":""}