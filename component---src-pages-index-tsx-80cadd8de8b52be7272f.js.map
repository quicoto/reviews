{"version":3,"sources":["webpack:///./src/components/totalMovies.js","webpack:///./src/components/totalEpisodes.js","webpack:///./src/components/topShows.js","webpack:///./src/components/latestMovies.js","webpack:///./src/components/latestTVShows.js","webpack:///./src/components/numberOfShows.js","webpack:///./src/pages/index.tsx"],"names":["TotalMovies","query","render","data","edges","JSON","parse","stringify","allMarkdownRemark","className","length","TotalEpisodes","slugify","require","ShowItem","props","name","show","style","marginBottom","marginTop","title","boxShadow","marginRight","to","stars","average","ShowsList","groups","topShows","forEach","group","nodes","frontmatter","totalCount","total","node","rating","roundHalf","parseFloat","toFixed","push","sort","a","b","n","slice","map","index","key","toString","TopShows","LatestMovies","NumberOfShows","pageQuery","BlogIndex","location","siteTitle","site","siteMetadata","description"],"mappings":"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","file":"component---src-pages-index-tsx-80cadd8de8b52be7272f.js","sourcesContent":["import React from \"react\"\nimport { StaticQuery, graphql } from \"gatsby\"\n\nconst TotalMovies = () => (\n  <StaticQuery\n    query={graphql`\n      {\n        allMarkdownRemark(filter: { frontmatter: { type: { eq: \"movie\" } } }) {\n          edges {\n            node {\n              id\n            }\n          }\n        }\n      }\n    `}\n    render={data => {\n      let edges = JSON.parse(JSON.stringify(data, null, 4)).allMarkdownRemark\n        .edges\n\n      return <div className=\"widgets-number\">{edges.length}</div>\n    }}\n  ></StaticQuery>\n)\n\nexport default TotalMovies\n","import React from \"react\"\nimport { StaticQuery, graphql } from \"gatsby\"\n\nconst TotalEpisodes = () => (\n  <StaticQuery\n    query={graphql`\n      {\n        allMarkdownRemark(filter: { frontmatter: { type: { eq: \"series\" } } }) {\n          edges {\n            node {\n              id\n            }\n          }\n        }\n      }\n    `}\n    render={data => {\n      let edges = JSON.parse(JSON.stringify(data, null, 4)).allMarkdownRemark\n        .edges\n\n      return <div className=\"widgets-number\">{edges.length}</div>\n    }}\n  ></StaticQuery>\n)\n\nexport default TotalEpisodes\n","import React from \"react\"\nimport { StaticQuery, graphql, Link } from \"gatsby\"\nimport { stars, roundHalf } from \"../utils/shared\"\nconst slugify = require(\"@sindresorhus/slugify\")\n\nfunction ShowItem(props) {\n  const name = props.show\n\n  return (\n    <h3\n      style={{\n        marginBottom: \"2rem\",\n        marginTop: \"0\",\n      }}\n    >\n      <Link\n        title={`All reviews for: ${name}`}\n        style={{\n          boxShadow: `none`,\n          marginBottom: \"10px\",\n          marginRight: \"15px\",\n        }}\n        to={`/tv-shows#${slugify(name)}`}\n      >\n        <strong>{name}</strong>{\" \"}\n        <span className=\"rating\">{stars(props.average)}</span>\n      </Link>\n    </h3>\n  )\n}\n\nfunction ShowsList(props) {\n  const groups = props.groups\n  let topShows = []\n\n  groups.forEach(group => {\n    const nodes = group.nodes\n    let show = {\n      name: nodes[0].frontmatter.name,\n      totalCount: group.totalCount,\n    }\n    let total = 0\n\n    nodes.forEach(node => {\n      total += node.frontmatter.rating\n    })\n\n    show.average = roundHalf(parseFloat((total / nodes.length).toFixed(2)))\n    topShows.push(show)\n  })\n\n  // Order DESC (best average first and then if tie, by total count)\n  topShows.sort(function (a, b) {\n    let n = b.average - a.average\n    if (n !== 0) {\n      return n\n    }\n\n    return b.totalCount - a.totalCount\n  })\n\n  topShows = topShows.slice(0, 5)\n\n  return (\n    <ul>\n      {topShows.map((show, index) => (\n        <ShowItem\n          key={index.toString()}\n          show={show.name}\n          average={show.average}\n        />\n      ))}\n    </ul>\n  )\n}\n\nconst TopShows = () => (\n  <StaticQuery\n    query={graphql`\n      {\n        allMarkdownRemark(filter: { frontmatter: { type: { eq: \"series\" } } }) {\n          group(field: frontmatter___name) {\n            nodes {\n              frontmatter {\n                rating\n                name\n              }\n            }\n            totalCount\n          }\n        }\n      }\n    `}\n    render={data => {\n      let groups = JSON.parse(JSON.stringify(data, null, 4)).allMarkdownRemark\n        .group\n\n      return (\n        <div className=\"topShows\">\n          <ShowsList groups={groups} />\n        </div>\n      )\n    }}\n  ></StaticQuery>\n)\n\nexport default TopShows\n","import React from \"react\"\nimport { StaticQuery, graphql } from \"gatsby\"\nimport { List } from \"../utils/shared\"\n\nconst LatestMovies = props => (\n  <StaticQuery\n    query={graphql`\n      {\n        allMarkdownRemark(\n          sort: { fields: [frontmatter___date], order: DESC }\n          limit: 5\n          filter: { frontmatter: { type: { eq: \"movie\" } } }\n        ) {\n          edges {\n            node {\n              fields {\n                slug\n              }\n              frontmatter {\n                date(formatString: \"MMMM DD, YYYY\")\n                title\n                rating\n              }\n              id\n            }\n          }\n        }\n      }\n    `}\n    render={data => {\n      let edges = JSON.parse(JSON.stringify(data, null, 4)).allMarkdownRemark\n        .edges\n\n      return (\n        <div>\n          <List edges={edges} />\n        </div>\n      )\n    }}\n  ></StaticQuery>\n)\n\nexport default LatestMovies\n","import React from \"react\"\nimport { StaticQuery, graphql } from \"gatsby\"\nimport { List } from \"../utils/shared\"\n\nconst LatestMovies = props => (\n  <StaticQuery\n    query={graphql`\n      {\n        allMarkdownRemark(\n          sort: { fields: [frontmatter___date], order: DESC }\n          limit: 5\n          filter: { frontmatter: { type: { eq: \"series\" } } }\n        ) {\n          edges {\n            node {\n              fields {\n                slug\n              }\n              frontmatter {\n                date(formatString: \"MMMM DD, YYYY\")\n                title\n                rating\n              }\n              id\n            }\n          }\n        }\n      }\n    `}\n    render={data => {\n      let edges = JSON.parse(JSON.stringify(data, null, 4)).allMarkdownRemark\n        .edges\n\n      return (\n        <div>\n          <List edges={edges} />\n        </div>\n      )\n    }}\n  ></StaticQuery>\n)\n\nexport default LatestMovies\n","import React from \"react\"\nimport { StaticQuery, graphql } from \"gatsby\"\n\nconst NumberOfShows = () => (\n  <StaticQuery\n    query={graphql`\n      {\n        allMarkdownRemark(filter: { frontmatter: { type: { eq: \"series\" } } }) {\n          group(field: frontmatter___name) {\n            edges {\n              node {\n                id\n                frontmatter {\n                  name\n                }\n              }\n            }\n          }\n        }\n      }\n    `}\n    render={data => {\n      let groups = JSON.parse(JSON.stringify(data, null, 4)).allMarkdownRemark\n        .group\n\n      return <div className=\"widgets-number\">{groups.length}</div>\n    }}\n  ></StaticQuery>\n)\n\nexport default NumberOfShows\n","// Gatsby supports TypeScript natively!\nimport React from \"react\"\nimport { PageProps, Link, graphql } from \"gatsby\"\n\nimport TotalMovies from \"../components/totalMovies\"\nimport TotalEpisodes from \"../components/totalEpisodes\"\nimport TopShows from \"../components/topShows\"\nimport LatestMovies from \"../components/latestMovies\"\nimport LatestTVShows from \"../components/latestTVShows\"\nimport NumberOfShows from \"../components/numberOfShows\"\nimport Bio from \"../components/bio\"\nimport Layout from \"../components/layout\"\nimport SEO from \"../components/seo\"\nimport { rhythm } from \"../utils/typography\"\n\ntype Data = {\n  site: {\n    siteMetadata: {\n      title: string\n    }\n  }\n}\n\nconst BlogIndex = ({ data, location }: PageProps<Data>) => {\n  const siteTitle = data.site.siteMetadata.title\n\n  return (\n    <Layout location={location} title={siteTitle}>\n      <SEO title=\"Home\" description=\"My TV Shows reviews\" />\n      <Bio />\n\n      <div className=\"widgets\">\n        <div className=\"widgets-column\">\n          <h2>Unique shows</h2>\n          <NumberOfShows />\n        </div>\n        <div className=\"widgets-column\">\n          <h2>Total episodes</h2>\n          <TotalEpisodes />\n        </div>\n        <div className=\"widgets-column\">\n          <h2>Total movies</h2>\n          <TotalMovies />\n        </div>\n      </div>\n\n      <hr/>\n\n      <h2 style={{ marginTop: '0' }}>Latest TV Show reviews</h2>\n      <LatestTVShows />\n      <p>\n        <Link style={{ boxShadow: `none` }} to=\"tv-shows\">\n          All TV Show Reviews &#10230;\n        </Link>\n      </p>\n\n      <hr/>\n\n      <h2 style={{ marginTop: '0' }}>Latest Movie reviews</h2>\n      <LatestMovies />\n      <p>\n        <Link style={{ boxShadow: `none` }} to=\"movies\">\n          All Movie Reviews &#10230;\n        </Link>\n      </p>\n\n      <hr/>\n\n      <h2 style={{ marginTop: '0' }}>Top 5 shows</h2>\n      <TopShows />\n    </Layout>\n  )\n}\n\nexport default BlogIndex\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n  }\n`\n"],"sourceRoot":""}